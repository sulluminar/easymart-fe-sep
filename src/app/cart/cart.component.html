<app-header></app-header>
<div style="margin-top: 60px;">
    <div *ngIf="allProduct.length==0" class="empty-wishlist d-flex justify-content-center align-items-center flex-column">
        <img src="https://pennpowergroup.com/images/EmptyCart.png" alt="">
        <h1 class="fs-1 text-danger" style="font-family: 'Abril Fatface', serif;">Your Cart is empty</h1>
        <button class="btn text-success" style="text-decoration: underline;" routerLink="">Add Your Cart</button>
    </div>
    <div *ngIf="allProduct.length>0" class="container-fluid px-4 px-lg-5 mt-5">
       <h1 class="text-danger text-center" style="font-family: 'Abril Fatface', serif;">Cart Summary</h1>
      <div class="row w-100">
        <div class="col-md-1"></div>
        <div class="col-md-7">
            <table class="table shadow mt-4  border rounded">
               <thead>
                <tr>
                    <th>#</th>
                    <th>Product Name</th>
                    <th>Image</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Action</th>
                </tr>
               </thead>
               <tbody>
                <tr *ngFor="let product of allProduct; let i=index">
                    <td>{{i+1}}</td>
                    <td >{{product.title}}</td>
                    <td ><img [src]="product.image" alt="" width="100px" height="100px"></td>
                    <td >
                        <div class="d-flex">
                            <button class="btn fw-bolder fs-3" (click)="decrementCartProduct(product._id)">-</button>
                            <input type="num" class="form-control text-center"  style="max-width: 3rem;" readonly [value]="product.quantity">
                            <button  class="btn fw-bolder fs-4" (click)="incrementCartProduct(product._id)">+</button>
                        </div>
                    </td>
                    <td >
                       {{product.price}}
                    </td>
                    <td ><button class="btn btn-outline-danger"(click)="removeItem(product._id)" ><i class="fa-solid fa-trash"></i></button></td>
                </tr>
               </tbody>
            </table>
            <div class="d-flex justify-content-center">
                <button class="btn btn-outline-danger" (click)="emptyCart()" >Empty cart</button>
                <button class="btn btn-outline-success ms-3" routerLink="">Add more Items</button>
            </div>
        </div>
        <div class="col-md-3 d-flex justify-content-center align-items-center">
            <div class="border shadow rounded p-4">
              <h3>Grand Total:<span class="text-primary ms-3">{{totalAmount}} </span> </h3>
              <button class="btn btn-success mt-3" (click)="checkout()" >CheckOut</button>
            </div>
        </div>
        <div class="col-md-1"></div>
      </div>
    </div>
   </div>